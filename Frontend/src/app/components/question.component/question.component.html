<div class="questions-container">
  <div class="header">
    <div>
      <h1>üìö Questions by Technology</h1>
      <p class="user-info" *ngIf="userEmail">Logged in as: <strong>{{ userEmail }}</strong></p>
    </div>
    <button class="logout-btn" (click)="logout()">Logout</button>
  </div>

  <div class="tech-selector">
    <label for="techSelect"><strong>Select Technology:</strong></label>
    <select id="techSelect" [(ngModel)]="selectedTechnology" (change)="onTechnologyChange()">
      <option value="">-- Choose a technology --</option>
      <option *ngFor="let tech of technologies" [value]="tech">{{ tech }}</option>
    </select>
  </div>

  <div *ngIf="error" class="error-message">‚ùå {{ error }}</div>

  <div *ngIf="loading" class="loading">Loading questions...</div>

  <div *ngIf="!loading && questions.length > 0" class="questions-list">
    <div *ngFor="let question of questions; let i = index" class="question-card">
      <h3>Q{{ question.id }}: {{ question.question }}</h3>
      <button class="toggle-answer" (click)="toggleAnswer(i)">
        {{ isAnswerExpanded(i) ? 'Hide Answer' : 'Show Answer' }}
      </button>
      <div *ngIf="isAnswerExpanded(i)" class="answer">
        <strong>Answer:</strong><br>
        {{ question.answer }}
      </div>
    </div>
  </div>

  <div *ngIf="!loading && selectedTechnology && questions.length === 0" class="no-questions">
    No questions found for {{ selectedTechnology }}
  </div>
</div>
